var wrapPromise = require('WrapPromise');

class SlackPromiser {

    constructor(slack, token) {
        this.slack = slack;
        this.token = token;
    }

    listChannels() {
        var self = this;
        return wrapPromise(self.slack.channels.list, {'token': self.token});
    }

    getChannelHistory(id, oldest, latest) {
        var self = this;
        if(oldest !== undefined && latest !== undefined) {
            return wrapPromise(self.slack.channels.history, {
                'token': self.token,
                'channel': id,
                'inclusive': true,
                'oldest': oldest,
                'latest': latest
            });
        }

        return wrapPromise(self.slack.channels.history, {'token': self.token, 'channel': id});
    }
}

module.exports = SlackPromiser;
